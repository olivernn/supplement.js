// supplement.js JavaScript Extras, version: 0.1.2
// (c) 2011 Oliver Nightingale
//
//  Released under MIT license.
//
supplement=function(){var a=[],b=function(b,d,e){a.forEach(function(a){a(b,d,e)})};return{defineAlias:function(a,b,e){this.defineMethod(a,b,a[e])},defineMethod:function(a,d,e){if(a[d])return b(a,d,e);typeof Object.defineProperties=="function"?Object.defineProperty(a,d,{value:e,enumerable:!1,configurable:!1}):a[d]=e},onClash:function(b){if(typeof b!=="function")throw new TypeError;a.push(b)}}}();supplement.defineMethod(Array,"wrap",function(a){return a==null||a==void 0?[]:Array.isArray(a)?a:[a]});
supplement.defineMethod(Array.prototype,"uniq",function(){return this.reduce(function(a,b){a.indexOf(b)===-1&&a.push(b);return a},[])});supplement.defineMethod(Array,"range",function(a,b){if(typeof a!=="number"||typeof b!=="number")throw new TypeError("Array.range called with no range start or end");for(var c=[],d=a;d<=b;d++)c.push(d);return c});supplement.defineMethod(Array.prototype,"detect",function(a,b){for(var c=this.length,d=null,e=0;e<c;e++)if(a.call(b,this[e],e,this)){d=this[e];break}return d});
supplement.defineMethod(Array,"toArray",function(a){if(typeof a==="string")throw new TypeError("Array.toArray called on non-arguments");return Array.prototype.slice.call(a,0)});supplement.defineMethod(Array.prototype,"head",function(){return this[0]});supplement.defineMethod(Array.prototype,"tail",function(){return this.slice(1)});supplement.defineMethod(Array.prototype,"compact",function(){return this.filter(function(a){return a!==null&&a!==void 0})});
supplement.defineMethod(Array.prototype,"group",function(a,b){if(typeof a!=="function")throw new TypeError;return this.reduce(function(c,d,e,f){e=a.call(b,d,e,f);c[e]||(c[e]=[]);c[e].push(d);return c},{})});supplement.defineMethod(Array.prototype,"reject",function(a,b){if(typeof a!=="function")throw new TypeError;return this.reduce(function(c,d,e,f){a.call(b,d,e,f)||c.push(d);return c},[])});supplement.defineMethod(Array.prototype,"take",function(a){if(!a)throw new TypeError;return this.slice(0,a)});
supplement.defineMethod(Array.prototype,"drop",function(a){if(!a)throw new TypeError;return this.slice(a)});supplement.defineMethod(Array.prototype,"pluck",function(a){if(!a||typeof a!=="string")throw new TypeError;return this.map(function(b){return b[a]!==void 0?typeof b[a]=="function"?b[a]():b[a]:void 0})});supplement.defineMethod(Array.prototype,"contains",function(a){return!!~this.indexOf(a)});supplement.defineMethod(Array.prototype,"copy",function(){return Array.toArray(this)});
supplement.defineMethod(Array.prototype,"remove",function(a){delete this[this.indexOf(a)];return this.compact()});supplement.defineMethod(Array.prototype,"removeEvery",function(a){for(var b=0;b<this.length;b++)this[b]===a&&delete this[b];return this.compact()});supplement.defineMethod(Array.prototype,"isEmpty",function(){return this.length===0});supplement.defineMethod(Array.prototype,"first",function(){return this[0]});
supplement.defineMethod(Array.prototype,"last",function(){return this[this.length-1]});supplement.defineMethod(Array.prototype,"count",function(a){if(!a)return this.length;var b=0;this.forEach(function(c){a(c)&&b++});return b});supplement.defineMethod(Function.prototype,"singleUse",function(){var a=this,b=!1;return function(){if(!b){b=!0;var c=Array.prototype.slice.call(arguments,0);return a.apply(null,c)}}});
supplement.defineMethod(Function.prototype,"curry",function(){var a=Array.prototype.slice.call(arguments,0),b=this;return function(){Array.prototype.slice.call(arguments,0).forEach(function(b){a.push(b)});return b.apply(null,a)}});supplement.defineMethod(Function.prototype,"throttle",function(a){var b=this,c,d;return function(){var e=Array.prototype.slice.call(arguments,0);c=new Date;d=d||0;if(!(c-d<a))return d=c,b.apply(null,e)}});
supplement.defineMethod(Function.prototype,"debounce",function(a){var b=this,c;return function(){var d=Array.prototype.slice.call(arguments,0);clearTimeout(c);c=setTimeout(function(){return b.apply(null,d)},a)}});supplement.defineMethod(Number.prototype,"times",function(a){for(var b=0;b<this;b++)a(b)});supplement.defineMethod(Number.prototype,"seconds",function(){return this*1E3});supplement.defineAlias(Number.prototype,"second","seconds");
supplement.defineMethod(Number.prototype,"minutes",function(){return this.seconds()*60});supplement.defineAlias(Number.prototype,"minute","minutes");supplement.defineMethod(Number.prototype,"hours",function(){return this.minutes()*60});supplement.defineAlias(Number.prototype,"hour","hours");supplement.defineMethod(Number.prototype,"pad",function(a){if(typeof a!=="number")throw new TypeError;if(a<0)throw new RangeError;for(var b=this+"";Math.floor(a--);)b="0"+b;return b});
supplement.defineMethod(Number.prototype,"toDps",function(a){return parseFloat(this.toFixed(a))});supplement.defineMethod(Object,"values",function(a){if(a!==Object(a))throw new TypeError("Object.values called on non-object");return Object.keys(a).map(function(b){return a[b]})});
supplement.defineMethod(Object,"provide",function(a){if(a!==Object(a))throw new TypeError("Object.provide called on non-object");var b=Array.prototype.slice.call(arguments,1),c=a;b.forEach(function(a){if(c[a]){if(c[a]!==Object(c[a]))throw new TypeError("Object.provide can only add properties to a plain object");}else c[a]={};c=c[a]});return c});supplement.defineMethod(Object,"typeOf",function(a){return Object.prototype.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()});
"Array,Function,String,Number,Boolean,Regexp,Date".split(",").forEach(function(a){supplement.defineMethod(Object,"is"+a,function(b){return Object.typeOf(b)==a.toLowerCase()})});supplement.defineMethod(String.prototype,"startsWith",function(a){return RegExp("^"+a).test(this)});supplement.defineMethod(String.prototype,"endsWith",function(a){return this.substr(a.length)===a});supplement.defineMethod(String.prototype,"contains",function(a){return RegExp(a).test(this)});
supplement.defineMethod(String.prototype,"strip",function(){return this.replace(/^\s+|\s+$/g,"")});supplement.defineMethod(String.prototype,"quote",function(a){a=a||'"';return a+this+a});supplement.defineMethod(String.prototype,"toFloat",function(){return!this.match(/^\d+(\.\d+)?$/)?NaN:parseFloat(this)});supplement.defineMethod(String.prototype,"toInteger",function(){return!this.match(/^\d+$/)?NaN:parseInt(this)});
